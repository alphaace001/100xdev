<html>
    <div>
        <input type="text" id="title" placeholder="title"><br><br>
        <input type="text" id="description" placeholder="description"><br><br>
        <!-- <button onclick="add_todo()">Add Todo</button><br><br> -->
        <div id="todo_list">
    </div>
    <script>
        function mark_done(id){
            const todo_list = document.getElementById(`${id}`);
            todo_list.innerHTML = "DOne";
        }

        function create_div(title,description,id){
            const childdiv = document.createElement("div");
            const new_title = document.createElement("h3");
            new_title.innerHTML = title;
            const new_description = document.createElement("p");
            new_description.innerHTML = description;
            const new_button = document.createElement("button");
            new_button.innerHTML = "Mark as Done";
            new_button.id = id;
            new_button.setAttribute("onclick", `mark_done(${id})`);
            childdiv.appendChild(new_title);
            childdiv.appendChild(new_description);
            childdiv.appendChild(new_button);
            return childdiv;
        }

        // setInterval(async function updatedomaccordingtostate() {
        //     let data = await fetch("https://jsonplaceholder.typicode.com/todos")
        //     let todo = await data.json();
        //     for (let i=0;i<10;i++){
        //         const todo_item = todo[i];
        //         const parent = document.getElementById("todo_list");
        //         parent.appendChild(create_div(todo_item.title,"Sample Description",todo_item.id));
        //     }
        // }, 5000);

        async function updatedomaccordingtostate(state){
            const parent = document.getElementById("todo_list");
            parent.innerHTML = "";
            for (let i=0;i<state.length;i++){
                const todo = state[i];
                parent.appendChild(create_div(todo.title,todo.description,todo.id));
            }
        }
        state = [{
            title: "Sample Todo",
            description: "This is a sample todo",
            id: 1
        },
        {
            title: "Sample Todo 2",
            description: "This is a sample todo 2",
            id: 2
        }];
        updatedomaccordingtostate(state);
    </script>
</html>